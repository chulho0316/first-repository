<!DOCTYPE html>
<html>
    <head>
        <style>
            img {
                position: absolute;
                height: 150px;
            }
        </style>
    </head>
    <body>
        <img src="photo4.jpg" style="z-index: 1">
        <img src="photo4.jpg" style="top: 100px; left: 100px; z-index: 50">
        <img src="photo4.jpg" style="top: 200px; left: 200px; z-index: 100">
        <img src="photo4.jpg" style="top: 300px; left: 300px; z-index: 80">
        <img src="photo4.jpg" style="top: 400px; left: 400px; z-index: 70">
        
        <script>
            let maxSize = 0;

            function updateMaxZIndex() {
                maxSize = 0;
                let images = document.querySelectorAll("img");
                for (let i = 0; i < images.length; i++) {
                    let zIndex = parseInt(images[i].style.zIndex);
                    if (zIndex > maxSize) {
                        maxSize = zIndex;
                    }
                }
            }

            updateMaxZIndex();

            let images = document.querySelectorAll("img");
            for (let i = 0; i < images.length; i++) {
                images[i].addEventListener("click", function () {
                    let thisSize = parseInt(this.style.zIndex);
                    if (maxSize > thisSize) {
                        this.style.zIndex = maxSize + 1;
                        updateMaxZIndex();
                    }
                });
            }
        </script>
    </body>
</html>
