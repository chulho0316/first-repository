<!DOCTYPE html>
<html>
    <head>
       
        <style>
            img{
                position: absolute;
                height:150px;
            }
        </style>
    </head>
    <body>
        <img src ="photo4.jpg" style="z-index:1">
        <img src ="photo4.jpg" style="top: 100px; left: 100px; z-index:50">
        <img src ="photo4.jpg" style="top: 200px; left: 200px; z-index:100">
        <img src ="photo4.jpg" style="top: 300px; left: 300px; z-index:80">
        <img src ="photo4.jpg" style="top: 400px; left: 400px; z-index:70">
        <script>
            let maxSizeImg;
            let maxSize = 0;

            function updateMaxZIndex(){
                maxSize = 0;
                document.querySelectorAll("img").forEach(img=>{
                    let zIndex = parseInt(img.style.zIndex);
                    if(zIndex > maxSize) {
                        maxSize = zIndex;
                        maxSizeImg = img;
                    }
                });
            }

            updateMaxZIndex();

            document.querySelectorAll("img").forEach(img=>{
                img.addEventListener("click", function(){
                    let thisSize = parseInt(this.style.zIndex);
              
                    console.log("현재 클릭한 이미지 z-index:", thisSize);
                    if(maxSize > thisSize)
                    {
                        this.style.zIndex = maxSize;
                       
                        maxSizeImg.style.zIndex = thisSize;
                        console.log("maxSizeImg : ", maxSizeImg);
                        updateMaxZIndex();
                    }
                })
            })


        </script>
    </body>
</html>