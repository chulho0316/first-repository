<!DOCTYPE html>
<html>
<head>
    <style>
        img {
            position: absolute;
            height: 150px;
            cursor: pointer; /* 이미지 클릭 시 손 모양 커서 */
        }
    </style>
</head>
<body>
    <img src="photo4.jpg" style="z-index: 1">
    <img src="photo4.jpg" style="top: 100px; left: 100px; z-index: 50">
    <img src="photo4.jpg" style="top: 200px; left: 200px; z-index: 100">
    <img src="photo4.jpg" style="top: 300px; left: 300px; z-index: 80">
    <img src="photo4.jpg" style="top: 400px; left: 400px; z-index: 70">

    <script>
        // 최대 z-index와 해당 이미지를 추적
        let maxSize = 0;

        // 현재 화면에 있는 이미지들의 z-index 중 최대값을 찾아내는 함수
        function updateMaxZIndex() {
            maxSize = 0;
            document.querySelectorAll("img").forEach(img => {
                let zIndex = parseInt(img.style.zIndex);
                if (zIndex > maxSize) {
                    maxSize = zIndex;
                }
            });
        }

        // 최초 최대 z-index 설정
        updateMaxZIndex();

        // 모든 이미지에 클릭 이벤트 추가
        document.querySelectorAll("img").forEach(img => {
            img.addEventListener("click", function () {
                let thisSize = parseInt(this.style.zIndex);
                console.log("현재 클릭한 이미지 z-index:", thisSize);

                // 클릭된 이미지의 z-index가 현재 최대 z-index보다 작은 경우
                if (thisSize < maxSize) {
                    // 클릭된 이미지를 가장 위로 보이게
                    this.style.zIndex = maxSize + 1; // 클릭된 이미지를 최상위로 올림

                    // 최대 z-index 업데이트
                    updateMaxZIndex();
                    console.log("최대 z-index:", maxSize);
                }
            });
        });
    </script>
</body>
</html>